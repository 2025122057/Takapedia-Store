<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login / Register</title>

    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/style.css">
</head>
<body class="d-flex justify-content-center align-items-center vh-100 p-3">
    <div class="login-card w-100" style="max-width: 400px;">

        <!-- Logo -->
        <img src="assets/images/logo.png" alt="Takapedia Logo" class="logo mb-3">
        <h3 id="formTitle" class="text-center mb-4">Admin Takapedia Store</h3>
        <div id="error-msg" class="alert alert-danger d-none"></div>

        <!-- Login Form -->
        <form id="loginForm">
            <div class="floating-label mb-3">
                <input type="text" id="loginUsername" placeholder=" " required>
                <label>Username</label>
            </div>
            <div class="floating-label mb-3">
                <input type="password" id="loginPassword" placeholder=" " required>
                <label>Password</label>
            </div>
            <button type="submit" class="btn btn-primary w-100 mb-2">Login</button>
            <span class="toggle-link d-block text-center" id="showRegister">Don't have an account? Register</span>
        </form>

        <!-- Register Form -->
        <form id="registerForm" class="d-none">
            <div class="floating-label mb-3">
                <input type="text" id="regUsername" placeholder=" " required>
                <label>Username</label>
            </div>
            <div class="floating-label mb-3">
                <input type="password" id="regPassword" placeholder=" " required>
                <label>Password</label>
            </div>
            <button type="submit" class="btn btn-primary w-100 mb-2">Register</button>
            <span class="toggle-link d-block text-center" id="showLogin">Already have an account? Login</span>
        </form>
    </div>

    <script>
    // Hardcoded users
    let users = [
        {username: 'admin', password: 'admin123'},
        {username: 'user', password: 'pass123'}
    ];

    // Toggle Forms
    document.getElementById('showRegister').addEventListener('click', () => {
        document.getElementById('loginForm').classList.add('d-none');
        document.getElementById('registerForm').classList.remove('d-none');
        document.getElementById('error-msg').classList.add('d-none');
        document.getElementById('formTitle').textContent = 'Register New Account';
    });

    document.getElementById('showLogin').addEventListener('click', () => {
        document.getElementById('registerForm').classList.add('d-none');
        document.getElementById('loginForm').classList.remove('d-none');
        document.getElementById('error-msg').classList.add('d-none');
        document.getElementById('formTitle').textContent = 'Admin Takapedia Store';
    });

    // Login Form Submit
    document.getElementById('loginForm').addEventListener('submit', function(e){
        e.preventDefault();
        const username = document.getElementById('loginUsername').value;
        const password = document.getElementById('loginPassword').value;

        const user = users.find(u => u.username === username && u.password === password);
        if(user){
            window.location.href = 'dashboard.html';
        } else {
            const err = document.getElementById('error-msg');
            err.textContent = 'Invalid username or password';
            err.classList.remove('d-none');
        }
    });

    // Register Form Submit
    document.getElementById('registerForm').addEventListener('submit', function(e){
        e.preventDefault();
        const username = document.getElementById('regUsername').value;
        const password = document.getElementById('regPassword').value;

        if(users.find(u => u.username === username)){
            const err = document.getElementById('error-msg');
            err.textContent = 'Username already exists';
            err.classList.remove('d-none');
        } else {
            users.push({username, password});
            alert('User registered successfully! You can now login.');
            document.getElementById('showLogin').click();
        }
    });
    </script>
</body>
</html>
